From 3e13021b71e001d132ecbc672575ceec87f28808 Mon Sep 17 00:00:00 2001
From: Etaoin Wu <me@etaoinwu.com>
Date: Mon, 29 Sep 2025 15:52:30 -0700
Subject: [PATCH] fix (build): attempt to fix windows path handling

---
 crates/hyfetch/Cargo.toml | 3 ++-
 crates/hyfetch/build.rs   | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/crates/hyfetch/Cargo.toml b/crates/hyfetch/Cargo.toml
index bfee14da..1dc9068e 100644
--- a/crates/hyfetch/Cargo.toml
+++ b/crates/hyfetch/Cargo.toml
@@ -44,7 +44,8 @@ which = { workspace = true, features = [] }
 indexmap = { workspace = true, features = ["std"] }
 regex = { workspace = true, features = ["perf", "std", "unicode"] }
 unicode-normalization = { workspace = true, features = ["std"] }
-fs_extra = "1.3.0"
+# fs_extra = "1.3.0"
+fs_extra = { git = "https://github.com/SpriteOvO/fs_extra.git", branch = "patch-1" }
 
 [target.'cfg(windows)'.dependencies]
 enable-ansi-support = { workspace = true, features = [] }
diff --git a/crates/hyfetch/build.rs b/crates/hyfetch/build.rs
index ac1875df..4c882ed7 100644
--- a/crates/hyfetch/build.rs
+++ b/crates/hyfetch/build.rs
@@ -39,9 +39,10 @@ fn main() {
             &dir.join(file),
             &dir.join("../../").join(file),
         ]).expect("couldn't find neofetch");
+
         let dst = o.join(file);
         println!("cargo:rerun-if-changed={}", src.display());
-
+        eprintln!("src {:?}, dst {:?}", src.display().to_string().as_bytes(), dst.display().to_string().as_bytes());
         // Copy either file or directory
         if src.is_dir() {
             let opt = CopyOptions { overwrite: true, copy_inside: true, ..CopyOptions::default() };
-- 
2.51.0

